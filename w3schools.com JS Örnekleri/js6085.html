<!DOCTYPE html>
<html>
<head>
    <meta charset="iso-8859-9 Türkçe" />
    <title>js6085.html: FileReader ile disk dosyalarýný okuma örneði.</title>
    <style>
        body {background-color:OliveDrab; color: Cyan; font-size:20px;}
        input {background-color:Navy; color:orange;}
        button {background-color: FireBrick; color: yellow; font-size:15px;}
        #göster {color:Yellow; font-size:18px;}
    </style>
    <script>
        function fonk1() {document.getElementById ("göster").innerHTML ="";}
    </script>
</head>
<body>
    <input type="button" value="reload() ile Yenile" onClick="window.location.reload();"><br/>
    <input type="button" value="Sil" onClick="fonk1()">
    <h4>FileReader</h4>
    <p id="göster">Paragraf</p>

    <input type="file" onchange="dosyayýGöster (this)"><br>
    <input type="file" onchange="dosyayýOku(this)">
    <p id="göster2"></p>

    <script>
        function dosyayýGöster (veri) {
            let dosya = veri.files [0];
            alert ("Dosya adý: " + dosya.name + "\nSon deðiþiklik tarihi: " + new Date (dosya.lastModified).toUTCString() );
        } // func sonu...
        function dosyayýOku (veri) {
            let dosya = veri.files [0];
            let okuyucu = new FileReader();
            okuyucu.readAsText (dosya, "ISO_8859-9"); // Türkçe karakterler için...

            okuyucu.onload = function() {
                //document.getElementById ("göster2").innerHTML = okuyucu.result;
                console.log (okuyucu.result); // konsol penceresi açýk olmalý...
                //alert (okuyucu.result); // Uzun dosya içeriklerinin sonunu kýrpýyor...
            } // oku.. sonu...
            okuyucu.onerror = function() {alert (okuyucu.error);};
        } // func sonu...

        document.getElementById ("göster").innerHTML =
            "1) (input type='file' onchange='fonk(this)') ekrana, (Dosya Seç|Dosya Seçilmedi) \
            verigiriþ kutusunu getirir. Hernangibir (resim, döküman) dosyasý seçildiðinde, alert \
            ile seçilen dosyanýn adý ve son deðiþiklik tarihi yansýtýlabilir." +
            "<br>Örn.Alttaki (Dosya Seç) düðmesini herhangibir tür dosya için deneyin:" +
            "<br>2) Dosya içeriklerini okumak için (new FileReader()) kullanýlýr. Okuyucu, dosyalarý \
            Text/metin, ArrayBuffer/diziTampon veya DataURL/veriYureli seçenekli okuyabilir." +
            "<br>Örn.Alttaki ikinci (Dosya Seç) düðmesini metin dosyasý için deneyin:"
    </script>
</body>
</html>