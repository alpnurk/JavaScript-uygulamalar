<!DOCTYPE html>
<html>
<head>
    <meta charset="iso-8859-9 Türkçe" />
    <title>js4061.html: Fonksiyon saklayýþlarý örneði.</title>
    <style>
        body {background-color:OliveDrab; color: Cyan; font-size:20px;}
        input {background-color:Navy; color:orange;}
        button {background-color: red; color: yellow; font-size:15px;}
        #göster {color:Yellow; font-size:18px; margin-top:2em; text-align:ccenter;}
    </style>
    <script>
        function fonk1() {document.getElementById ("göster").innerHTML ="";}
    </script>
</head>
<body>
    <input type="button" value="reload() ile Yenile" onClick="window.location.reload();"><br/>
    <input type="button" value="Sil" onClick="fonk1()">
    <h4>FONKSÝYON SAKLAYIÞLARI</h4>
    <p id="göster">Paragraf</p>

    <script>
        function fonk2() {var a = 5, b = 3; return a * b;} // a ve lokal...

        function fonk3() {var a = 5; return a * b;} // a lokal, b ise global...
        var b = 4; // hoisting: enüstleme...

        function fonk4() {var d = 10; a = 5;} // a global, fakat yürütülmediðinden dýþarda geçersiz...
        fonk4(); // a artýk dýþarda da geçerli...
        var c = a * b;

        function fonk5() {var sayaç = 0;
            function birArtýr() {sayaç += 1;}
            function birAzalt() {sayaç -= 1;}
            birArtýr(); birArtýr(); birArtýr(); birArtýr();
            birAzalt();
            return sayaç;
        } // func sonu...

        var birArtýr = (function() {var sayaç = 0; return function() {return sayaç += 1;} }) ();
        var beþArtýr = (function() {var sayaç = 0; return function() {return sayaç += 5;} }) ();

        document.getElementById ("göster").innerHTML =
            "1) JS deðiþkenleri global ve lokal kapsamlý olabilir. Saklayýþlarla özel \
            deðiþkenler yapýlmasý mümkündür." +
            "<br/>Bir fonksiyon içinde tanýmlý lokal deðiþkenlere eriþebilir: " + fonk2() +
            "<br/>Ancak içerde olmayan fakat adý (içerde olmayýp) dýþarda tanýmlý \
            globallere de eriþebilir: " + fonk3() +
            "<br/>Ayrýca fonksiyon içinde var'sýz tanýmlý deðiþkenler de globaldir, ve \
            fonksiyon dýþýndan da eriþilebilir: " + c +
            "<br/>2) Lokallerin yaþam süresi blok veya fonksiyon kapanýnca biter, \
            globallerin ise html sayfasý kapatýldýðýnda." + (typeof d) +
            "<br/>3) Her alt kapsam üstte tanýmlý deðiþkenleri tanýr, ancak alttaki lokaller \
            üstte tanýnmaz. Ýç-içe fonksiyonla, window global penceresinde tanýnmayan, \
            dolayýsýyla da deðeri deðiþtirilemeyen, ancak altýndaki iç fonksiyonca tanýnýp \
            deðeri deðiþtirilen sayaç'la fonksiyonu her çaðrýþýmýzda sayaca ayný deðeri \
            döndürürüz: " + fonk5() + "; " + fonk5() + "; " + fonk5() +
            "<br/>4) Problemimiz hala çözülmedi; istediðimiz her keresinde ayný sonuç \
            deðil, sayacýn önceki kapanýþ deðerinin saklanýp, üzerine 1 eklenmesiydi; yani \
            fonksiyonu kapattýðýmýz halde önceki sayaç deðerinin saklanmasýydý. Buna \
            saklayan fonksiyon diyoruz. Birer artýr: " + birArtýr() + "; " + birArtýr() + "; " + birArtýr() + "; "
             + birArtýr() + "; " + birArtýr() +
            "<br/>Beþer artýr: " + beþArtýr() + "; " + beþArtýr() + "; " + beþArtýr() + "; "
             + beþArtýr() + "; " + beþArtýr()
    </script>
</body>
</html>