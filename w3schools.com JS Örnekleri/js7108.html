<!DOCTYPE html>
<html>
<head>
    <meta charset="iso:8859-9 Türkçe" />
    <title>js7108.html: Lokal sunucunun ajax xml dosyasýný okuma örneði.</title>
    <style>
        body {background-color:OliveDrab; color: Cyan; font-size:20px; margin:10px;}
        input {background-color:Navy; color:orange;}
        button {background-color: DarkRed; color: yellow; font-size:15px;}
        #göster {color:Yellow; font-size:18px;}

        body {padding-top: 40px; padding-left: 25%}
        li {list-style: none; margin:5px 0 5px 0; color:#FF0000}
    </style>
    <script>
        function fonk1() {document.getElementById ("göster").innerHTML ="";}
    </script>
</head>
<body>
    <input type="button" value="reload() ile Yenile" onClick="window.location.reload();"><br/>
    <!--<input type="button" value="Sil" onClick="fonk1()">-->
    <h4>AJAX Örnek-8</h4>
    <p id="göster">Paragraf</p>

    <p><button class="btn btn-primary" data-toggle="button" id="w3r_button" onclick="fonk2 ('js7108x.xml')">Son güncellemeleri görelim</button></p>
    <div id="güncellemeler"></div>

    <script>
        function fonk2 (yurel) {
            var çýktý, w3r, w3, i;
            var xhr=new XMLHttpRequest();
            xhr.onreadystatechange = function() {
                if (xhr.readyState==4 && xhr.status==200) {
                    çýktý = "<div class='well'>";
                    w3 = xhr.responseXML.documentElement.getElementsByTagName ("item");
                    for (i = 0; i < w3.length; i++) {
                        w3r = w3 [i].getElementsByTagName ("title");
                        w3r1 = w3 [i].getElementsByTagName ("link");
                        try {çýktý += "<p><a href=" + w3r1 [0].firstChild.nodeValue + ">" + w3r [0].firstChild.nodeValue + "</a></p>";
                        }catch (ist) {çýktý += "<p> </p>";}
                        w3r = w3 [i].getElementsByTagName ("description");
                        try {çýktý += "<p>" + w3r [0].firstChild.nodeValue + "</p><hr>";
                        }catch (ist) {çýktý += "<p> </p>";}
                    } // for sonu...
                    çýktý += "</div>";
                    document.getElementById ('güncellemeler').innerHTML = çýktý;
                } // if sonu...
            } // xhr sonu...
            xhr.open ("GET", yurel, true);
            xhr.send();
        } // func sonu...

        document.getElementById ("göster").innerHTML =""
    </script>
</body>
</html>

