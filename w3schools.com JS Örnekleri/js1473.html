<!DOCTYPE html>
<html>
<head>
    <meta charset="iso-8859-9 Türkçe" />
    <title>js1473.html: JS sýnýf ve nesnelerde extends ebeveyne super gönderme örneði.</title>
    <style>
        body {background-color:OliveDrab; color: Cyan; font-size:20px;}
        input {background-color:Navy; color:orange;}
        button {background-color: red; color: yellow; font-size:15px;}
        #göster {color:Yellow; font-size:18px; margin-top:2em; text-align:ccenter;}
    </style>
    <script>
        function fonk1() {document.getElementById ("göster").innerHTML ="";}
    </script>
</head>
<body>
    <input type="button" value="reload() ile Yenile" onClick="window.location.reload();"><br/>
    <input type="button" value="Sil" onClick="fonk1()">
    <h4>class NESNESÝ-MÝRAS</h4>
    <p id="göster">Paragraf</p>

    <script>
        //"use strict" sýnýflar için varsayýlý...
        class Hayvan {
            constructor (ad) {
                this.hýz = 0;
                this.ad = ad;}
            koþ (hýz) {
                this.hýz += hýz;
                return `${this.ad}, saatte ${this.hýz} km hýzla koþuyor.`;}
            dur() {
                this.hýz = 0;
                return `${this.ad} þimdi durdu.`;}
            dur2() {
                this.hýz = 0;
                alert (this.ad + " 5 sn'lik gecikmeyle þimdi durdu.");}
        } // sýnýf sonu...

        class Tavþan extends Hayvan {
            constructor (ad, kulak) {
                super (ad);
                this.kulak = kulak;}
            saklan() {return `${this.ad} saklanmýþ!`;}
            dur() {return super.dur() + " " +  this.saklan();
            } // metod sonu...
            dur2() {return setTimeout (() => super.dur2(), 5000)==1;} // Ebeveyn dur()'u 1 sn sonra çaðýr...call parent stop after 1sec
            dinle() {console.log (this.kulak + " sm kulaklý " + this.ad + " kulak kabartýp dinlemede!");
                return "F12 ile konsol çýktýsýný takip edin!";}
        } // sýnýf sonu...

        let hayvan = new Hayvan ("Av tazým"); // var:global, let:private...
        let tavþan = new Tavþan ("Yaban tavþaný", 30);

        function fonk2 (ibare) {
            return class {selam() {return ibare;} }
        } // fonk sonu...
        class Kullanýcý extends fonk2 ("Merhaba, ebeveyn sýnýf üreten fonksiyon!") {}

        let hayvan2 = {ad:"Hayvanlar", yer(){return this.ad + " yemek yerler.";} };
        let tavþan2 = {__proto__:hayvan2, ad: "Tavþanlar", yer(){return super.yer();} };
        let yavru2 = {__proto__:tavþan2, ad:"Yavru Tavþanlar", yer(){return super.yer();} };

        document.getElementById ("göster").innerHTML =
        "1) Ýki ayrý sýnýf kendi kurucu deðiþkenlerini ve metodlarýný kullanabilir: " +
            hayvan.koþ (100) + "; " + hayvan.dur() +
        "<br/>2) Bir yavru sýnýf diðerini extends/geniþler anahtarkelimesiyle miraslarsa \
        ebeveynin tüm kurucu deðiþkenlerini ve metodlarýný kendisinde yoksa \
        kullanabilir: " + tavþan.koþ (50) + "; " + tavþan.dur() + "; " + tavþan.saklan() +
        "<br/>3) Bir sýnýf sadece baþka bir sýnýfý deðil herhangibir ifadeyi extends \
        yapabilir; örneðin ebeveyn sýnýfý üreten bir fonksiyonu extends'leyebilir: " +
        new Kullanýcý().selam() +
        "<br/>4) Ebeveyndeki metod yavruda da varsa, ebeveyndeki override/esgeçilerek \
        öncelik yavrudakinedir. Bu durumda ebeveyn metodu super.metod(), yavru \
        metodu ise this.metod() farklýlýðýyla çaðrýlýr: " + tavþan.koþ (65) + "; " +
        tavþan.dur() +
        "<br/>5) => arrow fonksiyonlu ve alert mesajlý setTimeout'la iþlem istenildiði \
        süreyle bekletilebilir: " + tavþan.dur2() +
        "<br/>6) Yavru sýnýf kurucusu yokken, yavru ebeveynin tüm kurucu deðiþkenlerini \
        boþ-gizli kurucuyla kullanýyordu. Yeni yavru kurucu deðiþken tanýmlanmak istendiðinde \
        önce super(argümanlar)'la ebeveyninkiler tanýtýlýr, altýna da this'le yavru deðiþkenler \
        konur: " + tavþan.dinle() +
        "<br/>7) Nesne ({}=sözlük) deðiþkenlerde de super.metod()'la ebeveyn metoda \
        gönderme yapabiliriz: " + hayvan2.yer() + "; " + tavþan2.yer() + "; " + yavru2.yer()
    </script>
</body>
</html>