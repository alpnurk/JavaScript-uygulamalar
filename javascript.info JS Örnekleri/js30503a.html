<!DOCTYPE html>
<html>
<head>
    <title>js30503a.html: Çeþitli zamanlama fonksiyonlu mekik ve metin animasyonu örneði.</title>
    <meta charset="iso:8859-9 Türkçe" />
    <style>
        body {background-color:DarkGreen; color: DodgerBlue; font-size:20px; margin:1em;}
        input {background-color:Navy; color:orange;}
        button, select {background-color: DarkRed; color: yellow; font-size:15px;}

        #mekik, #mekik1, #mekik2, #mekik3, #mekik4, #mekik5, #mekik6 {
            width: 40px;
            height: 18px;
            background-color: red;
            border: solid 1px yellow;
            position: relative;
            cursor: pointer;}
        #kanal {
            outline: 3px solid black;
            background-color: aqua;
            width: 95%;
            height: 20px;}

        textarea {
            display: block;
            font-family: Impact;
            border: 5px solid Navy;
            color: darkred;
            background-color: khaki;
            font-size: 110%;}
</style>
</head>
<body>
    <input type="button" value="reload() ile Yenile" onClick="window.location.reload();"><br/>
    <h3>JS Zamanlama Animasyonlarý</h3>
    <hr/>

    <h4 style="color:magenta;">Týklayýn ve quad/parabolik, circ/yay, back/gerilemeli, bounce/zýplamalý ve elastic/elastik fonksiyonlu zamanlamayý görün:</h4>
    <div id="kanal">
        <div id="mekik"></div>
    </div><br/>
    <div id="kanal">
        <div id="mekik1"></div>
    </div><br/>
    <div id="kanal">
        <div id="mekik2"></div>
    </div><br/>
    <div id="kanal">
        <div id="mekik3"></div>
    </div><br/>
    <div id="kanal">
        <div id="mekik4"></div>
    </div>
    <hr/>

    <h4 style="color:magenta;">Týklayýn ve sarýcýlý sonda ters zýplama ve hem baþta hem de sonda ters zýplama fonksiyonlu zamanlamayý görün:</h4>
    <div id="kanal">
        <div id="mekik5"></div>
    </div><br/>
    <div id="kanal">
        <div id="mekik6"></div>
    </div><br/>
    <hr/>

    <textarea id="metin1" rows="5" cols="60">Keskin kýlýcýný eline aldý:
Uzun zamandýr kanlý hasmýný aramaktaydý—
Bir süreliðine Tamtam aðacýnýn dibinde dinlendi,
Ve derin düþüncelere daldý.
    </textarea><br/>
    <button onclick="metniCanlandýr (metin1)">Baþta ve sonda zýplamalý yazýlýmý baþlat!</button>


    <script>
        function canlandýr (tercihler) {
            var öncekiZaman = performance.now();
            requestAnimationFrame (function canlandýr (aktüelZaman) {
                var zamancýk = (aktüelZaman - öncekiZaman) / tercihler.süre;
                if (zamancýk > 1) zamancýk = 1;
                var ilerlet = tercihler.zamanlama (zamancýk); //  - 0.028Mekik kanal sonunu taþmasýn...
                tercihler.çiz (ilerlet);
                if (zamancýk < 1) {requestAnimationFrame (canlandýr);}
            }); // req..sonu...
        } // func sonu...

        mekik.onclick = function() {
            canlandýr ({
                süre: 1000,
                zamanlama: function (zamancýk) {return Math.pow (zamancýk, 2);},
                çiz: function (ilerlet) {mekik.style.left = ilerlet * 100 + "%";}
            }); // can..sonu...
        }; // mek..sonu...
        mekik1.onclick = function() {
            canlandýr ({
                süre: 1000,
                zamanlama: function (zamancýk) {return 1 - Math.sin (Math.acos (zamancýk) );},
                çiz: function (ilerlet) {mekik1.style.left = ilerlet * 100 + "%";}
            }); // can..sonu...
        }; // mek..sonu...
        mekik2.onclick = function() {
            canlandýr ({
                süre: 1000,
                zamanlama: function (zamancýk) {let x = 1.5; return Math.pow (zamancýk, 2) * ((x + 1) * zamancýk - x);},
                çiz: function (ilerlet) {mekik2.style.left = ilerlet * 100 + "%";}
            }); // can..sonu...
        }; // mek..sonu...
        mekik3.onclick = function() {
            canlandýr ({
                süre: 3000,
                zamanlama: function (zamancýk) {for (let a = 0, b = 1; ; a += b, b /= 2) {if (zamancýk >= (7 - 4 * a) / 11) {return -Math.pow ((11 - 6 * a - 11 * zamancýk) / 4, 2) + Math.pow (b, 2);}}},
                // for 3 elemanlýdýr: (ilk; son=1; artýþ)==> ; ; alýndýðýnda zamancýk=1 üst sýnýr olduðundan 0-->1 varsayýlýr...
                çiz: function (ilerlet) {mekik3.style.left = ilerlet * 100 + "%";}
            }); // can..sonu...
        }; // mek..sonu...
        mekik4.onclick = function() {
            canlandýr ({
                süre: 1000,
                zamanlama: function (zamancýk) {let x = 1.5; return Math.pow (2, 10 * (zamancýk - 1)) * Math.cos (20 * Math.PI * x / 3 * zamancýk);},
                çiz: function (ilerlet) {mekik4.style.left = ilerlet * 100 + "%";}
            }); // can..sonu...
        }; // mek..sonu...
//-----------------------------------------------------------------------------------------------------------------------------

        function tersine (zamanlama) {return function (zamancýk) {return 1 - zamanlama (1 - zamancýk);} }
        function zýplat (zamancýk) {for (let a = 0, b = 1; ; a += b, b /= 2) {if (zamancýk >= (7 - 4 * a) / 11) {return -Math.pow ( (11 - 6 * a - 11 * zamancýk) / 4, 2) + Math.pow (b, 2);} } }
        let sonundaZýplat = tersine (zýplat);

        mekik5.onclick = function() {
            canlandýr ({
                süre: 3000,
                zamanlama: sonundaZýplat,
                çiz: function (ilerlet) {mekik5.style.left = ilerlet * 100 + "%";}
            }); // can..sonu...
        }; // mek..sonu...
//-----------------------------------------------------------------------------------------------------------------------------

        function baþtaSonda (zamanlama) {
            return function (zamancýk) {
                if (zamancýk < 0.5) return zamanlama (2 * zamancýk) / 2; // Ýlk yarý...
                else return (2 - zamanlama (2 * (1 - zamancýk ))) / 2; // Son yarý...
            } // ret..sonu...
        } // func sonu...
        let baþtaSondaZýplat = baþtaSonda (zýplat);
        mekik6.onclick = function() {
            canlandýr ({
                süre: 3000,
                zamanlama: baþtaSondaZýplat,
                çiz: function (ilerlet) {mekik6.style.left = ilerlet * 100 + "%";}
            }); // can..sonu...
        }; // mek..sonu...
//-----------------------------------------------------------------------------------------------------------------------------

        function metniCanlandýr (metin1) {
            let metin = metin1.value;
            let son = metin.length, ilk = 0;
            canlandýr ({
                süre: 5000,
                zamanlama: baþtaSondaZýplat,
                çiz: function (ilerlet) {let sonuç = (son - ilk) * ilerlet + ilk; metin1.value = metin.substr (0, Math.ceil (sonuç) ); }
            }); // can..sonu...
        } // func sonu...
     </script>
</body>
</html>